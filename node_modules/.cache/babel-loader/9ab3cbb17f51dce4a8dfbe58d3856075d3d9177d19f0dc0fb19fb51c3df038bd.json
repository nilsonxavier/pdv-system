{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Compra(){const[quantidade,setQuantidade]=useState('');const[produto,setProduto]=useState('');const[preco,setPreco]=useState('');const[listaProdutos,setListaProdutos]=useState([]);const[produtosFiltrados,setProdutosFiltrados]=useState([]);const[produtoSelecionadoIndex,setProdutoSelecionadoIndex]=useState(-1);const quantidadeRef=useRef(null);const produtoRef=useRef(null);const precoRef=useRef(null);useEffect(()=>{quantidadeRef.current.focus();},[]);const buscarProduto=async query=>{try{const response=await fetch(`http://back.elitevenda.com.br:3001/api/produtos?q=${query}`);const data=await response.json();// Normaliza a query (remove acentos e converte para minúsculas)\nconst queryNormalizada=removerAcentos(query);// Filtrar produtos comparando sem acentos e com letras minúsculas\nconst resultados=data.filter(p=>removerAcentos(p.nome).includes(queryNormalizada)||p.id.toString().includes(query));setProdutosFiltrados(resultados);setProdutoSelecionadoIndex(-1);}catch(error){console.error('Erro ao buscar produtos:',error);}};const handleQuantidadeEnter=e=>{if(e.key==='Enter'){produtoRef.current.focus();}};const handleProdutoChange=e=>{setProduto(e.target.value);buscarProduto(e.target.value);};const handleProdutoKeyDown=e=>{if(e.key==='ArrowDown'){setProdutoSelecionadoIndex(prevIndex=>prevIndex<produtosFiltrados.length-1?prevIndex+1:prevIndex);}else if(e.key==='ArrowUp'){setProdutoSelecionadoIndex(prevIndex=>prevIndex>0?prevIndex-1:prevIndex);}else if(e.key==='Enter'){if(produtoSelecionadoIndex>=0&&produtosFiltrados[produtoSelecionadoIndex]){const produtoSelecionado=produtosFiltrados[produtoSelecionadoIndex];selecionarProduto(produtoSelecionado);}else{// Se não houver um produto selecionado, exibe um aviso ou faz outra ação\nalert('Nenhum produto selecionado.');}}};//remover acentos e caixa alta do campo pesquisa\nconst removerAcentos=str=>{return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").toLowerCase();};const selecionarProduto=produto=>{setProduto(produto.nome);setPreco(produto.preco);setProdutosFiltrados([]);precoRef.current.focus();};const handlePrecoEnter=e=>{if(e.key==='Enter'){adicionarProduto();}};const adicionarProduto=()=>{if(quantidade&&produto&&preco){const produtoExistente=listaProdutos.find(item=>item.produto===produto);if(produtoExistente){const listaAtualizada=listaProdutos.map(item=>item.produto===produto?{...item,quantidade:parseFloat(item.quantidade)+parseFloat(quantidade)}:item);setListaProdutos(listaAtualizada);}else{const novoProduto={quantidade,produto,preco};setListaProdutos([...listaProdutos,novoProduto]);}setQuantidade('');setProduto('');setPreco('');quantidadeRef.current.focus();}};const editarProduto=(index,campo,valor)=>{const listaAtualizada=listaProdutos.map((item,i)=>i===index?{...item,[campo]:valor}:item);setListaProdutos(listaAtualizada);};const excluirProduto=index=>{const listaAtualizada=listaProdutos.filter((_,i)=>i!==index);setListaProdutos(listaAtualizada);};const calcularTotal=()=>{let totalKg=0;let totalValor=0;listaProdutos.forEach(item=>{totalKg+=parseFloat(item.quantidade);totalValor+=parseFloat(item.quantidade)*parseFloat(item.preco);});return{totalKg,totalValor};};const{totalKg,totalValor}=calcularTotal();const finalizarCompra=()=>{alert('Compra finalizada e estoque atualizado');gerarRecibo();setListaProdutos([]);};const gerarRecibo=()=>{const reciboWindow=window.open('','','width=400,height=600');reciboWindow.document.write('<html><head><title>Recibo</title></head><body>');reciboWindow.document.write('<h2>Recibo de Compra</h2>');reciboWindow.document.write('<table><thead><tr><th>Produto</th><th>Qtd</th><th>Preço Unitário</th><th>Total</th></tr></thead><tbody>');listaProdutos.forEach(produto=>{reciboWindow.document.write(`\n            <tr>\n              <td>${produto.produto}</td>\n              <td>${produto.quantidade}</td>\n              <td>R$ ${produto.preco}</td>\n              <td>R$ ${(produto.quantidade*produto.preco).toFixed(2)}</td>\n            </tr>\n          `);});reciboWindow.document.write('</tbody></table>');reciboWindow.document.write(`<p>Total de Produtos: ${totalKg.toFixed(2)} kg</p>`);reciboWindow.document.write(`<p>Preço Total: R$ ${totalValor.toFixed(2)}</p>`);reciboWindow.document.write('<p>Obrigado pela compra!</p>');reciboWindow.document.write('</body></html>');reciboWindow.document.close();reciboWindow.print();};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-gray-800 text-center\",children:\"PDV - Compra de Mercadorias\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Quantidade (kg/unidade):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantidade,onChange:e=>setQuantidade(e.target.value),onKeyDown:handleQuantidadeEnter,ref:quantidadeRef,className:\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Produto:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:produto,onChange:handleProdutoChange,onKeyDown:handleProdutoKeyDown,ref:produtoRef,className:\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\",placeholder:\"Pesquisar produto\",required:true}),produtosFiltrados.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-32 overflow-y-auto\",children:produtosFiltrados.map((p,index)=>/*#__PURE__*/_jsxs(\"li\",{className:`cursor-pointer p-2 hover:bg-gray-100 ${index===produtoSelecionadoIndex?'bg-gray-200':''}`,onClick:()=>selecionarProduto(p),children:[p.nome,\" - R$\",p.preco]},p.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Pre\\xE7o (R$):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:preco,onChange:e=>setPreco(e.target.value),onKeyDown:handlePrecoEnter,ref:precoRef,className:\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-800\",children:\"Carrinho:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-4 p-2 bg-gray-200 font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Produto\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Qtd\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pre\\xE7o Unit\\xE1rio\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\\xE7\\xE3o\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2\",children:listaProdutos.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"grid grid-cols-5 gap-4 items-center p-2 border border-gray-300 rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.produto}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantidade,onChange:e=>editarProduto(index,'quantidade',e.target.value),className:\"w-full p-1 border rounded-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:item.preco,onChange:e=>editarProduto(index,'preco',e.target.value),className:\"w-full p-1 border rounded-md\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"R$ \",(item.quantidade*item.preco).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>excluirProduto(index),className:\"bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition w-full\",children:\"Excluir\"})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total em kg: \",totalKg.toFixed(2),\" kg\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total em valor: R$ \",totalValor.toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-green-600 text-white font-bold py-2 px-4 rounded-md hover:bg-green-700 transition mt-6\",onClick:finalizarCompra,children:\"Finalizar Compra\"})]})]})});}export default Compra;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Compra","quantidade","setQuantidade","produto","setProduto","preco","setPreco","listaProdutos","setListaProdutos","produtosFiltrados","setProdutosFiltrados","produtoSelecionadoIndex","setProdutoSelecionadoIndex","quantidadeRef","produtoRef","precoRef","current","focus","buscarProduto","query","response","fetch","data","json","queryNormalizada","removerAcentos","resultados","filter","p","nome","includes","id","toString","error","console","handleQuantidadeEnter","e","key","handleProdutoChange","target","value","handleProdutoKeyDown","prevIndex","length","produtoSelecionado","selecionarProduto","alert","str","normalize","replace","toLowerCase","handlePrecoEnter","adicionarProduto","produtoExistente","find","item","listaAtualizada","map","parseFloat","novoProduto","editarProduto","index","campo","valor","i","excluirProduto","_","calcularTotal","totalKg","totalValor","forEach","finalizarCompra","gerarRecibo","reciboWindow","window","open","document","write","toFixed","close","print","className","children","type","onChange","onKeyDown","ref","required","placeholder","onClick","step"],"sources":["C:/wamp64/www/pdv-system/src/pages/Compra.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nfunction Compra() {\r\n    const [quantidade, setQuantidade] = useState('');\r\n    const [produto, setProduto] = useState('');\r\n    const [preco, setPreco] = useState('');\r\n    const [listaProdutos, setListaProdutos] = useState([]);\r\n    const [produtosFiltrados, setProdutosFiltrados] = useState([]);\r\n    const [produtoSelecionadoIndex, setProdutoSelecionadoIndex] = useState(-1);\r\n    const quantidadeRef = useRef(null);\r\n    const produtoRef = useRef(null);\r\n    const precoRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        quantidadeRef.current.focus();\r\n    }, []);\r\n\r\n    const buscarProduto = async (query) => {\r\n        try {\r\n          const response = await fetch(`http://back.elitevenda.com.br:3001/api/produtos?q=${query}`);\r\n          const data = await response.json();\r\n      \r\n          // Normaliza a query (remove acentos e converte para minúsculas)\r\n          const queryNormalizada = removerAcentos(query);\r\n      \r\n          // Filtrar produtos comparando sem acentos e com letras minúsculas\r\n          const resultados = data.filter(p => \r\n            removerAcentos(p.nome).includes(queryNormalizada) || p.id.toString().includes(query)\r\n          );\r\n      \r\n          setProdutosFiltrados(resultados);\r\n          setProdutoSelecionadoIndex(-1);\r\n        } catch (error) {\r\n          console.error('Erro ao buscar produtos:', error);\r\n        }\r\n      };\r\n\r\n\r\n    const handleQuantidadeEnter = (e) => {\r\n        if (e.key === 'Enter') {\r\n            produtoRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const handleProdutoChange = (e) => {\r\n        setProduto(e.target.value);\r\n        buscarProduto(e.target.value);\r\n    };\r\n\r\n    const handleProdutoKeyDown = (e) => {\r\n        if (e.key === 'ArrowDown') {\r\n            setProdutoSelecionadoIndex((prevIndex) =>\r\n                prevIndex < produtosFiltrados.length - 1 ? prevIndex + 1 : prevIndex\r\n            );\r\n        } else if (e.key === 'ArrowUp') {\r\n            setProdutoSelecionadoIndex((prevIndex) =>\r\n                prevIndex > 0 ? prevIndex - 1 : prevIndex\r\n            );\r\n        } else if (e.key === 'Enter') {\r\n            if (produtoSelecionadoIndex >= 0 && produtosFiltrados[produtoSelecionadoIndex]) {\r\n                const produtoSelecionado = produtosFiltrados[produtoSelecionadoIndex];\r\n                selecionarProduto(produtoSelecionado);\r\n            } else {\r\n                // Se não houver um produto selecionado, exibe um aviso ou faz outra ação\r\n                alert('Nenhum produto selecionado.');\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n\r\n    //remover acentos e caixa alta do campo pesquisa\r\n    const removerAcentos = (str) => {\r\n        return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\r\n    };\r\n\r\n    const selecionarProduto = (produto) => {\r\n        setProduto(produto.nome);\r\n        setPreco(produto.preco);\r\n        setProdutosFiltrados([]);\r\n        precoRef.current.focus();\r\n    };\r\n\r\n    const handlePrecoEnter = (e) => {\r\n        if (e.key === 'Enter') {\r\n            adicionarProduto();\r\n        }\r\n    };\r\n\r\n    const adicionarProduto = () => {\r\n        if (quantidade && produto && preco) {\r\n            const produtoExistente = listaProdutos.find(item => item.produto === produto);\r\n\r\n            if (produtoExistente) {\r\n                const listaAtualizada = listaProdutos.map(item =>\r\n                    item.produto === produto\r\n                        ? { ...item, quantidade: parseFloat(item.quantidade) + parseFloat(quantidade) }\r\n                        : item\r\n                );\r\n                setListaProdutos(listaAtualizada);\r\n            } else {\r\n                const novoProduto = { quantidade, produto, preco };\r\n                setListaProdutos([...listaProdutos, novoProduto]);\r\n            }\r\n\r\n            setQuantidade('');\r\n            setProduto('');\r\n            setPreco('');\r\n            quantidadeRef.current.focus();\r\n        }\r\n    };\r\n\r\n    const editarProduto = (index, campo, valor) => {\r\n        const listaAtualizada = listaProdutos.map((item, i) =>\r\n            i === index ? { ...item, [campo]: valor } : item\r\n        );\r\n        setListaProdutos(listaAtualizada);\r\n    };\r\n\r\n    const excluirProduto = (index) => {\r\n        const listaAtualizada = listaProdutos.filter((_, i) => i !== index);\r\n        setListaProdutos(listaAtualizada);\r\n    };\r\n\r\n    const calcularTotal = () => {\r\n        let totalKg = 0;\r\n        let totalValor = 0;\r\n        listaProdutos.forEach(item => {\r\n            totalKg += parseFloat(item.quantidade);\r\n            totalValor += parseFloat(item.quantidade) * parseFloat(item.preco);\r\n        });\r\n        return { totalKg, totalValor };\r\n    };\r\n\r\n    const { totalKg, totalValor } = calcularTotal();\r\n\r\n    const finalizarCompra = () => {\r\n        alert('Compra finalizada e estoque atualizado');\r\n        gerarRecibo();\r\n        setListaProdutos([]);\r\n    };\r\n\r\n    const gerarRecibo = () => {\r\n        const reciboWindow = window.open('', '', 'width=400,height=600');\r\n        reciboWindow.document.write('<html><head><title>Recibo</title></head><body>');\r\n        reciboWindow.document.write('<h2>Recibo de Compra</h2>');\r\n        reciboWindow.document.write('<table><thead><tr><th>Produto</th><th>Qtd</th><th>Preço Unitário</th><th>Total</th></tr></thead><tbody>');\r\n      \r\n        listaProdutos.forEach(produto => {\r\n          reciboWindow.document.write(`\r\n            <tr>\r\n              <td>${produto.produto}</td>\r\n              <td>${produto.quantidade}</td>\r\n              <td>R$ ${produto.preco}</td>\r\n              <td>R$ ${(produto.quantidade * produto.preco).toFixed(2)}</td>\r\n            </tr>\r\n          `);\r\n        });\r\n      \r\n        reciboWindow.document.write('</tbody></table>');\r\n        reciboWindow.document.write(`<p>Total de Produtos: ${totalKg.toFixed(2)} kg</p>`);\r\n        reciboWindow.document.write(`<p>Preço Total: R$ ${totalValor.toFixed(2)}</p>`);\r\n        reciboWindow.document.write('<p>Obrigado pela compra!</p>');\r\n        reciboWindow.document.write('</body></html>');\r\n        reciboWindow.document.close();\r\n        reciboWindow.print();\r\n      };\r\n      \r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\">\r\n                <h1 className=\"text-2xl font-bold mb-4 text-gray-800 text-center\">PDV - Compra de Mercadorias</h1>\r\n\r\n                <div className=\"space-y-4\">\r\n                    {/* Campo de Quantidade */}\r\n                    <div>\r\n                        <label className=\"block text-gray-700\">Quantidade (kg/unidade):</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={quantidade}\r\n                            onChange={(e) => setQuantidade(e.target.value)}\r\n                            onKeyDown={handleQuantidadeEnter}\r\n                            ref={quantidadeRef}\r\n                            className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Campo de Produto */}\r\n                    <div>\r\n                        <label className=\"block text-gray-700\">Produto:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={produto}\r\n                            onChange={handleProdutoChange}\r\n                            onKeyDown={handleProdutoKeyDown}\r\n                            ref={produtoRef}\r\n                            className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\"\r\n                            placeholder=\"Pesquisar produto\"\r\n                            required\r\n                        />\r\n                        {produtosFiltrados.length > 0 && (\r\n                            <ul className=\"mt-2 bg-white border border-gray-300 rounded-md shadow-sm max-h-32 overflow-y-auto\">\r\n                                {produtosFiltrados.map((p, index) => (\r\n                                    <li\r\n                                        key={p.id}\r\n                                        className={`cursor-pointer p-2 hover:bg-gray-100 ${index === produtoSelecionadoIndex ? 'bg-gray-200' : ''}`}\r\n                                        onClick={() => selecionarProduto(p)}\r\n                                    >\r\n                                        {p.nome} - R${p.preco}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Campo de Preço */}\r\n                    <div>\r\n                        <label className=\"block text-gray-700\">Preço (R$):</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            step=\"0.01\"\r\n                            value={preco}\r\n                            onChange={(e) => setPreco(e.target.value)}\r\n                            onKeyDown={handlePrecoEnter}\r\n                            ref={precoRef}\r\n                            className=\"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500 focus:outline-none\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Lista de Produtos */}\r\n                    <div className=\"mt-6\">\r\n  <h2 className=\"text-lg font-semibold text-gray-800\">Carrinho:</h2>\r\n  {/* Cabeçalho do carrinho em grade */}\r\n  <div className=\"grid grid-cols-5 gap-4 p-2 bg-gray-200 font-semibold\">\r\n    <span>Produto</span>\r\n    <span>Qtd</span>\r\n    <span>Preço Unitário</span>\r\n    <span>Total</span>\r\n    <span>Ação</span>\r\n  </div>\r\n  \r\n  {/* Itens do carrinho em grade */}\r\n  <ul className=\"mt-2\">\r\n    {listaProdutos.map((item, index) => (\r\n      <li key={index} className=\"grid grid-cols-5 gap-4 items-center p-2 border border-gray-300 rounded-md shadow-sm\">\r\n        <span>{item.produto}</span>\r\n        <input\r\n          type=\"number\"\r\n          value={item.quantidade}\r\n          onChange={(e) => editarProduto(index, 'quantidade', e.target.value)}\r\n          className=\"w-full p-1 border rounded-md\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          value={item.preco}\r\n          onChange={(e) => editarProduto(index, 'preco', e.target.value)}\r\n          className=\"w-full p-1 border rounded-md\"\r\n        />\r\n        {/* Exibe o total do produto (quantidade * preço unitário) */}\r\n        <span>R$ {(item.quantidade * item.preco).toFixed(2)}</span>\r\n        <button\r\n          onClick={() => excluirProduto(index)}\r\n          className=\"bg-red-500 text-white px-2 py-1 rounded-md hover:bg-red-600 transition w-full\"\r\n        >\r\n          Excluir\r\n        </button>\r\n      </li>\r\n    ))}\r\n  </ul>\r\n\r\n  {/* Soma Total */}\r\n  <div className=\"mt-4\">\r\n    <h3 className=\"text-lg font-semibold\">Total:</h3>\r\n    <p>Total em kg: {totalKg.toFixed(2)} kg</p>\r\n    <p>Total em valor: R$ {totalValor.toFixed(2)}</p>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n                        {/* Botão de Finalizar Compra */}\r\n                        <button\r\n                            className=\"w-full bg-green-600 text-white font-bold py-2 px-4 rounded-md hover:bg-green-700 transition mt-6\"\r\n                            onClick={finalizarCompra}\r\n                        >\r\n                            Finalizar Compra\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            );\r\n}\r\n\r\n            export default Compra;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}